<style>
    *{
        font-family: Verdana, Geneva, sans-serif;
    }
    .form-popup{
        display: none;
        position: fixed;
        top: 0;
        right: 15px;
        border: 3px solid #f1f1f1;
        z-index: 9;
    }

    .form-container .btn {
        background-color: #4CAF50;
        color: white;
        padding: 16px 20px;
        border: none;
        cursor: pointer;
        width: 100%;
        margin-bottom:10px;
        opacity: 0.8;
    }

    .form-container .btn:hover, .open-button:hover {
        opacity: 1;
    }
    .form-container input[type=text]:focus, .form-container input[type=password]:focus {
        background-color: #ddd;
        outline: none;
    }
</style>

@model dynamic

@* Header Login/Registration  *@
<div class="row header">
    <h1 class= "col-sm-8 text-center"><a href="/">RPG Character Generator</a></h1>
    <div class="col-sm-4">
        @{
            if(@Model.User == null)
            {
                <div class="row">
                    <button class= "register-form col-sm-5 btn btn-primary btn-sm" onclick="openRegistration()" >Register</button>
                    <div class="form-popup" id="register">
                        @* <partial Name="RegisterPartial"></partial> *@
                        @Html.Partial("RegisterPartial", (User) @Model.User)
                    </div>
                    <h4 class="col-sm-1">|</h4>
                    <button class = "login-form col-sm-6 btn btn-primary btn-sm" onclick="openLogin()">Login</button>
                    <div class="form-popup" id= "login">
                        @* <partial Name="LoginPartial"></partial> *@
                        @Html.Partial("LoginPartial", (Login) @Model.Login)
                    </div>
                </div>
            }
            else
            {
                <div class="row">

                    <a class="btn btn-primary btn-sm col-sm-5" href="/profile/@Model.User.UserId">Profile</a>
                    <h4 class="col-sm-1">|</h4>
                    <a class="btn btn-primary btn-sm col-sm-6" href="/logout">Logout</a>
                </div>
            }
        }
    </div>
</div>




@* Pull API from fantasy name generator for names *@
<div class="cotnainer" style="background: beige; border: 2px solid black; border-radius:5px;  margin: 5px; padding: 20 px;">

<div class="row">
    <h4 class="col-sm-4 text-center" style = "margin-bottom: 5px;">Character Name</h4>
    <h4 class="col-sm-4 text-center" style = "margin-bottom: 5px;">@Model.Character.playerRace.Subrace @Model.Character.playerRace.Race </h4>
    <h4 class="col-sm-4 text-center" style = "margin-bottom: 5px;">@Model.Character.playerClass.ClassName  @Model.Character.playerBG.Background</h4>
</div>
<div class="row ">
    <div class= "col-sm text-center" style="margin: 10px;">
        <div class="col-sm text-center" style ="border: 2px solid black; border-radius:5px;  margin: 2px; background: white;">
            <p>Strength</p>
            <p>@Model.Character.playerStat.Strength</p>
        </div>
        <div class="col-sm text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px;">
            <p>Dexterity</p>
            <p>@Model.Character.playerStat.Dexterity</p>
        </div>
        <div class="col-sm text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px;">
            <p>Constitution</p>
            <p>@Model.Character.playerStat.Constitution</p>
        </div>
        <div class="col-sm text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px;">
            <p>Intelligence</p>
            <p>@Model.Character.playerStat.Intelligence</p>
        </div>
        <div class="col-sm text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px;">
            <p>Wisdom</p>
            <p>@Model.Character.playerStat.Wisdom</p>
        </div>
        <div class="col-sm text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px;">
            <p>Charisma</p>
            <p>@Model.Character.playerStat.Charisma</p>
        </div>
    </div>
    <div class = "col-sm text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 10px; text-align: left;  ">
        <ul style ="list-style-type:none; text-align: left;">
            <li>Acrobatics - @Model.Character.playerStat.Acrobatics</li>
            <li>Animal Handling - @Model.Character.playerStat.AnimalHandling</li>
            <li>Arcana - @Model.Character.playerStat.Arcana</li>
            <li>Athletics - @Model.Character.playerStat.Athletics</li>
            <li>Deception - @Model.Character.playerStat.Deception</li>
            <li>History - @Model.Character.playerStat.History</li>
            <li>Insight - @Model.Character.playerStat.Insight</li>
            <li>Intimidation - @Model.Character.playerStat.Intimidation</li>
            <li>Investigation - @Model.Character.playerStat.Investigation</li>
            <li>Medicine - @Model.Character.playerStat.Medicine</li>
            <li>Nature - @Model.Character.playerStat.Nature</li>
            <li>Perception - @Model.Character.playerStat.Perception</li>
            <li>Performance - @Model.Character.playerStat.Performance</li>
            <li>Persuasion - @Model.Character.playerStat.Persuasion</li>
            <li>Religion - @Model.Character.playerStat.Religion</li>
            <li>Sleight of Hand - @Model.Character.playerStat.Sleight</li>
            <li>Stealth - @Model.Character.playerStat.Stealth</li>
            <li>Survival - @Model.Character.playerStat.Survival</li>

        </ul>
    </div>
    <div class="col-sm" style="margin: 10px;">
        <div class="row" >
            <div class="col-5 text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px; text-align: left;">
                <p>Level</p>
                <p>@Model.Character.Level</p>
            </div>
            <div class="col-5 text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px; text-align: left;">
                <p>Hit Points</p>
                <p>@Model.Character.playerStat.HitPoints</p>
            </div>
         </div>
         <div class="row" >
            <div class="col-5 text-center" style ="border-radius:5px;  margin: 2px; text-align: left;">
                <span><br></span>
            </div>
            <div class="col-5 text-center" style ="border-radius:5px;  margin:2px; text-align: left;">
                <span><br></span>
            </div>
         </div>
         <div class="row" >
            <div class="col-5 text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px; text-align: left;">
                <p>Strength Modifier</p>
                <p>@Model.Character.playerStat.StrMod</p>
            </div>
            <div class="col-5 text-center"  style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px; text-align: left;">
                <p>Dexterity Modifier</p>
                <p>@Model.Character.playerStat.DexMod</p>
            </div>
         </div>
         <div class="row" >
            <div class="col-5 text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px; text-align: left;">
                <p>Constitution Modifier</p>
                <p>@Model.Character.playerStat.ConMod</p>
            </div>
            <div class="col-5 text-center"  style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px; text-align: left;">
                <p>Intelligence Modifier</p>
                <p>@Model.Character.playerStat.IntMod</p>
            </div>
         </div>
         <div class="row" >
            <div class="col-5 text-center" style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px; text-align: left;">
                <p>Wisdom Modifier</p>
                <p>@Model.Character.playerStat.WisMod</p>
            </div>
            <div class="col-5 text-center"  style ="border: 2px solid black; border-radius:5px; background: white; margin: 2px; text-align: left;">
                <p>Charisma Modifier</p>
                <p>@Model.Character.playerStat.ChaMod</p>
            </div>
         </div>
    </div>
    
    </div>
    <div class="row">
        <div class="col">
            @foreach(Feature feat in Model.Features)
            {
            <p>@feat.FeatureName</p>
            }
        </div>
    </div>
    <div class="row">
        <div class="col">
            @if(Model.Spells != null){

                @foreach(Spell spell in Model.Spells)
                {
                    <p>@spell.SpellName</p>
                }
            }
        </div>
    </div>
</div>


<script>
function openRegistration() {
    if(document.getElementById("login").style.display == "block")
    {
        document.getElementById("login").style.display = "none";
        document.getElementById("register").style.display = "block";
    }
    else if(document.getElementById("register").style.display == "block")
    {
        closeRegistration();
    }
    else{
        document.getElementById("register").style.display = "block";
    }
}

function closeRegistration() {
  document.getElementById("register").style.display = "none";
}

function openLogin() {
    if(document.getElementById("register").style.display == "block")
    {
        document.getElementById("register").style.display = "none";
        document.getElementById("login").style.display = "block";
    }
    else if(document.getElementById("login").style.display == "block")
    {
        document.getElementById("login").style.display = "none"
    }
    else{
        document.getElementById("login").style.display = "block";
    }
}

function closeLogin() {
  document.getElementById("login").style.display = "none";
}

</script>