@model dynamic

@* Header Login/Registration  *@
<div class="row">
    <h1 class= "col-sm-8 text center"><a href="/" class="title">DnD 5E Character Randomizer</a></h1>
    <div class="col-sm-4">
        @{
            if(ViewBag.SessionId == null)
            {
                <div class="row">
                    <button class= "register-form col-sm-5 btn btn-primary btn-sm logreg" onclick="openRegistration()" >Register</button>
                    <div class="form-popup" id="register">
                        @* <partial Name="RegisterPartial"></partial> *@
                        @Html.Partial("RegisterPartial", (User) @Model.User)
                    </div>
                    <h4 class="col-sm-1">|</h4>
                    <button class = "login-form col-sm-5 btn btn-primary btn-sm logreg" onclick="openLogin()">Login</button>
                    <div class="form-popup" id= "login">
                        @* <partial Name="LoginPartial"></partial> *@
                        @Html.Partial("LoginPartial", (Login) @Model.Login)
                    </div>
                </div>
            }
            else
            {
                <div class="row">

                    <a class="btn btn-primary btn-sm col-sm-5 logreg" href="/profile/@Model.User.UserId">Profile</a>
                    <h4 class="col-sm-1">|</h4>
                    <a class="btn btn-primary btn-sm col-sm-5 logreg" href="/logout">Logout</a>
                </div>
            }
        }
    </div>
</div>

<div class="row welcome">
    <div class="col">
        <p class=" welcome">Welcome to our humble Character Randomizer!</p>
        <p class=" welcome">If you would like to be a bit more precise, then please register and you will be able to save your characters!</p>
        <p class=" welcome">Otherwise, click <a href="/" id="refresh">here</a> for another Character! Thanks for Visiting!</p>
        <br>
        <p class=" welcome">This Randomizer tool is made by fans, for fans, using references to the 5th Edition Players Handbook for Dungeons and Dragons. If you wish to gather information on the rules referenced here, please buy a copy of the 5th Edition Player's Handbook or use <a href="dndbeyond.com">DnD Beyond</a> and purchase the materials there.</p>
    </div>
</div>


<script>
function openRegistration() {
    if(document.getElementById("login").style.display == "block")
    {
        document.getElementById("login").style.display = "none";
        document.getElementById("register").style.display = "block";
    }
    else if(document.getElementById("register").style.display == "block")
    {
        closeRegistration();
    }
    else{
        document.getElementById("register").style.display = "block";
    }
}

function closeRegistration() {
  document.getElementById("register").style.display = "none";
}

function openLogin() {
    if(document.getElementById("register").style.display == "block")
    {
        document.getElementById("register").style.display = "none";
        document.getElementById("login").style.display = "block";
    }
    else if(document.getElementById("login").style.display == "block")
    {
        document.getElementById("login").style.display = "none"
    }
    else{
        document.getElementById("login").style.display = "block";
    }
}

function closeLogin() {
  document.getElementById("login").style.display = "none";
}


//check to see if model prof bool is t/f ???????
function ProfCheck(ProfId, playerStatProf) {
    let profCheck = (ProfId + "B");
    let playerStats = playerStatProf + "." + profCheck; 
    Console.log(profCheck);
    Console.log(playerStats);
    Console.log("++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++");
    if(playerStats == true)
    {
        document.getElementById(ProfId).style.color = "yellow";
    }
}
</script>
